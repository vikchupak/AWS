- [Official doc](https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-bucket-policies.html)
- All s3 objects and buckets are private by default
- Have flat structure. Folders are just emulated with prefixes

<img width="1280" height="687" alt="image" src="https://github.com/user-attachments/assets/c5db0f18-ca2c-4933-8a67-6123559d9cde" />

- versioning
  - delete marker is used to mark deleted objects. But object are not really deleted
- s3 multipart upload
  - splits upload file on pieaces and sends them in parallel
- s3 transfer acceleration
  - uses **CloudFront edge locations** and CloudFront Edge Network to send data faster
  - HTTP/HTTPS only as uses CloudFront

# S3 Storage Classes

- [Official doc](https://aws.amazon.com/s3/storage-classes/)
- [Pricing](https://aws.amazon.com/s3/pricing/)

---

- S3 Standard (Better for frequently accessed important/non-replaceable data)
  - Replicated across at least 3 AZs in a region
  - "Milliseconds" first byte latency
  - Billed for
    - GB data stored
    - GB transfer OUT
    - 1000 requests
- S3 Standard-IA (Infrequent Access) (Better for infrequent accessed important/non-replaceable data)
  - Replicated across at least 3 AZs in a region
  - "Milliseconds" first byte latency
  - Billed for
    - GB data stored (cheaper than S3 Standard)
    - GB transfer OUT (cheaper than S3 Standard)
    - 1000 requests (cheaper than S3 Standard)
    - GB retrival
    - Min duration charge of 30 days
    - Min size/capacity charge of 128KB per object
- S3 One Zone-IA (Better for infrequent accessed non-important/replaceable data)
  - Like S3 Standard-IA
  - Replicated within 1 AZ
  - "Milliseconds" first byte latency
  - Billed for
    - GB data stored (costs about 20% less than Standard-IA)
    - GB transfer OUT (costs about 20% less than Standard-IA)
    - 1000 requests (costs about 20% less than Standard-IA)
    - GB retrival
    - Min duration charge of 30 days
    - Min size/capacity charge of 128KB per object

---

Archive classes

- S3 Glacier Instant Retrieval
  - Like S3 Standard
    - Replicated across at least 3 AZs in a region
    - "Milliseconds" first byte latency
    - Billed for
      - GB data stored
      - GB transfer OUT
      - 1000 requests
  - But
    - Data accessed once per qtr
    - GB data storing is cheaper
    - Longer Min duration charge of 90 days
    - More expensive retrieval
- S3 Glacier Flexible Retrieval **(S3 Glacier)**
  - Like S3 Standard
  - But
    - **No "Milliseconds" first byte latency**
      - Access time
        - Expedited (1-5 min)
        - Standard (3-5 hours)
        - Bulk (5-12 hours)
    - Objects can't be public
    - Longer Min duration charge of 90 days
    - Min size/capacity charge of 40 KB per object
- S3 Glacier Deep Archive
  - Like S3 Glacier Flexible Retrieval
  - But
    - Longer Min duration charge of 180 days
    - **No "Milliseconds" first byte latency**
      - Access time
        - Standard (12 hours)
        - Bulk (up to 48 hours)

---

- Amazon S3 Intelligent-Tiering
  - Automatically moves your data to the most cost-effective storage class (Machine lerning is used for that)

# S3 Standard (Built-in replication) vs S3 Replication (CRR/SRR)

- Cross-Region Replication (CRR)
- Same-Region Replication (SRR)

---

| Feature | S3 Standard (Built-in) | S3 Replication (CRR/SRR) |
| :--- | :--- | :--- |
| **Goal** | **Durability** and **High Availability** within a single Region. | **Disaster Recovery**, **Compliance**, or **Latency Reduction** across different buckets/Regions/Accounts. |
| **Automation** | **Automatic** and transparently managed by AWS. | Must be **manually configured** with a rule, IAM role, and destination bucket. |
| **Destination**| Multiple **Availability Zones** within **one** AWS Region. | A separate, user-specified S3 **Bucket** (either in the same Region or a different one). |

- You cannot directly see or access the built-in replicas of your S3 objects
  - The replication of data across multiple Availability Zones (AZs) is an automatic, internal function of the Amazon S3 service for durability and is entirely managed by AWS.

| Feature | S3 Standard (Built-in Redundancy) | S3 Replication (CRR/SRR) |
| :--- | :--- | :--- |
| **Copies Visible?** | **No.** Copies are hidden within the AWS internal infrastructure. | **Yes.** The replica is a fully visible, distinct object in a separate, user-created destination bucket. |
| **Purpose** | **Durability** within one Region. | **Disaster Recovery** or **Latency Reduction** across different Regions/Buckets. |
| **Configuration** | **Automatic** when you use the S3 Standard class. | **Manual** (requires a rule, destination bucket, and IAM role). |
